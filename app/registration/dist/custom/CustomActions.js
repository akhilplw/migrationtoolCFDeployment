sap.ui.define(["sap/ui/core/Core","sap/m/Dialog","sap/m/DialogType","sap/m/Button","sap/m/ButtonType","sap/m/Label","sap/m/MessageToast","sap/m/TextArea","sap/m/MessageBox"],function(e,t,n,o,i,a,r,l,s){return{isEditing:function(e){return e.sPath.match(/(IsActiveEntity=false)/)!=null},setValues:function(){const u=(e,t=[])=>{var n=e.length>0;try{const o=JSON.parse(e);for(const e of t){n=n&&o["oauth"][e].length>0}}catch(e){n=false}return n};const c="#registration\\:\\:TenantsObjectPage--fe\\:\\:FormContainer\\:\\:FieldGroup\\:\\:Basic_type\\:\\:FormElement\\:\\:DataField\\:\\:Environment\\:\\:Field-edit-inner-inner";if(document.querySelector(c).value=="Neo"){s.warning("Importing JSON configuration is only possible for Cloud Foundry tenants. Please set Environment to 'Cloud Foundry' first")}else{this.oInputJSONDialog=new t({type:n.Message,title:"Import Settings",content:[new a({text:"Paste here the JSON configuration of your Service Key",labelFor:"inputJSON"}),new l("inputJSON",{width:"100%",rows:10,placeholder:'\\{\n  "oauth": \\{\n     "clientid":     "...",\n     "clientsecret": "...",\n     "tokenurl":     "...",\n     "url":          "..."\n  \\}\n\\}',liveChange:function(e){const t=e.getParameter("value");const n=u(t,["url","tokenurl","clientid","clientsecret"]);this.oInputJSONDialog.getBeginButton().setEnabled(n);e.getSource().setValueState(n?sap.ui.core.ValueState.None:sap.ui.core.ValueState.Error)}.bind(this)})],beginButton:new o({type:i.Emphasized,text:"Import",enabled:false,press:function(){const t="[^https://]([^/]*)";const n=JSON.parse(e.byId("inputJSON").getValue());const o=[{field:"#registration\\:\\:TenantsObjectPage--fe\\:\\:FormContainer\\:\\:FieldGroup\\:\\:Connection_gen\\:\\:FormElement\\:\\:DataField\\:\\:Host\\:\\:Field-edit-inner",value:n.oauth.url.match(t)[0]},{field:"#registration\\:\\:TenantsObjectPage--fe\\:\\:FormContainer\\:\\:FieldGroup\\:\\:Connection_auth\\:\\:FormElement\\:\\:DataField\\:\\:Token_host\\:\\:Field-edit-inner",value:n.oauth.tokenurl.match(t)[0]},{field:"#registration\\:\\:TenantsObjectPage--fe\\:\\:FormContainer\\:\\:FieldGroup\\:\\:Connection_auth\\:\\:FormElement\\:\\:DataField\\:\\:Oauth_clientid\\:\\:Field-edit-inner",value:n.oauth.clientid},{field:"#registration\\:\\:TenantsObjectPage--fe\\:\\:FormContainer\\:\\:FieldGroup\\:\\:Connection_auth\\:\\:FormElement\\:\\:DataField\\:\\:Oauth_secret\\:\\:Field-edit-inner",value:n.oauth.clientsecret},{field:"#registration\\:\\:TenantsObjectPage--fe\\:\\:FormContainer\\:\\:FieldGroup\\:\\:Basic_type\\:\\:FormElement\\:\\:DataField\\:\\:Environment\\:\\:Field-edit-inner-inner",value:"Cloud Foundry"}];o.forEach(e=>{document.querySelector(e.field).focus();document.querySelector(e.field).value=e.value;document.querySelector(e.field).blur()});r.show("Import successful");e.byId("inputJSON").setValue("");this.oInputJSONDialog.close()}.bind(this)}),endButton:new o({text:"Cancel",press:function(){this.oInputJSONDialog.close()}.bind(this)}),afterClose:function(){this.destroy()}});this.oInputJSONDialog.open()}},downloadTenants:function(){return window.open("/downloadTenants","blank")},downloadDatabase:function(){return window.open("/downloadDatabase","blank")}}});
//# sourceMappingURL=CustomActions.js.map